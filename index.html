<!DOCTYPE html>
<html lang="tl">
<head>
<meta charset="UTF-8">
<title>Pagsusulit sa Wika</title>
<style>
    body { font-family: Arial, sans-serif; background-color: #cce6ff; padding: 20px; }
    .container { max-width: 700px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; }
    h2 { text-align: center; }
    .question { margin-bottom: 15px; }
    .result { font-weight: bold; margin-top: 10px; }
    button { padding: 10px 20px; margin-top: 10px; }
    select, input[type=text] { padding: 5px; font-size: 14px; }
</style>
</head>
<body>
<div class="container">
    <h2>Pagsusulit sa Wika</h2>
    <div id="quiz-section"></div>
    <button id="btnCheck">Sagot</button>
    <button id="btnNext">Susunod</button>
    <div class="result" id="lblResult"></div>
</div>

<script>
// ==== Section 1: Pamilang (20 questions) ====
let pamilangQuestions = [
    {Text: "May tatlong ibon sa sanga ng puno.", Word: "tatlong", Type: "Kardinal"},
    {Text: "Si Liza ay may apat na kapatid.", Word: "apat", Type: "Kardinal"},
    {Text: "Nakakuha si Ana ng limang bituin sa takdang-aralin.", Word: "limang", Type: "Kardinal"},
    {Text: "May dalawang aso sa bakuran.", Word: "dalawang", Type: "Kardinal"},
    {Text: "Bumili si Pedro ng pitong mansanas.", Word: "pitong", Type: "Kardinal"},
    {Text: "May siyam na bata sa palaruan.", Word: "siyam", Type: "Kardinal"},
    {Text: "Nagdala siya ng sampung libro sa paaralan.", Word: "sampung", Type: "Kardinal"},
    {Text: "Tatlong beses siyang pumunta sa tindahan.", Word: "tatlong", Type: "Kardinal"},
    {Text: "May walong kandila sa cake.", Word: "walong", Type: "Kardinal"},
    {Text: "May anim na guro sa paaralan.", Word: "anim", Type: "Kardinal"},
    {Text: "Siya ang ikalimang nakatapos sa laro.", Word: "ikalimang", Type: "Ordinal"},
    {Text: "Si Ben ang pangatlong nagsalita sa pagpupulong.", Word: "pangatlong", Type: "Ordinal"},
    {Text: "Ang unang guro ay nagpakilala sa klase.", Word: "unang", Type: "Ordinal"},
    {Text: "Siya ang pang-apat na tumawid sa finish line.", Word: "pang-apat", Type: "Ordinal"},
    {Text: "Siya ang ikasiyam na umalis sa silid.", Word: "ikasiyam", Type: "Ordinal"},
    {Text: "Ang ikalawang awitin ang kanyang paborito.", Word: "ikalawang", Type: "Ordinal"},
    {Text: "Binigyan niya ako ng kalahati ng tinapay.", Word: "kalahati", Type: "Pamahagi"},
    {Text: "Kumain siya ng tatlong-kapat ng cake.", Word: "tatlong-kapat", Type: "Pamahagi"},
    {Text: "May tiglilimang kendi ang bawat bata.", Word: "tiglilimang", Type: "Pamahagi"},
    {Text: "Bumili si Nanay ng isang dosenang itlog.", Word: "isang dosenang", Type: "Palansak"}
];

// ==== Section 2: Tayutay (20 questions) ====
let tayutayQuestions = [
    {Text: "Ang kanyang mga mata ay parang bituin sa gabi.", Answer: "Simili"},
    {Text: "Siya ay leon sa tapang.", Answer: "Metapora"},
    {Text: "Ang ulap ay kumot sa langit.", Answer: "Metapora"},
    {Text: "Ang kanyang tinig ay kasing tamis ng pulot.", Answer: "Simili"},
    {Text: "Ang buhay ay isang gulong.", Answer: "Metapora"},
    {Text: "Ang kanyang buhok ay parang ginto.", Answer: "Simili"},
    {Text: "Siya ay isang alamat sa kanyang bayan.", Answer: "Metapora"},
    {Text: "Ang pag-ibig ay isang apoy.", Answer: "Metapora"},
    {Text: "Ang kanyang mukha ay kasing puti ng niyebe.", Answer: "Simili"},
    {Text: "Ang oras ay tumakbo tulad ng hangin.", Answer: "Simili"},
    {Text: "Ang kanyang puso ay bato.", Answer: "Metapora"},
    {Text: "Siya ay isang araw sa aking umaga.", Answer: "Metapora"},
    {Text: "Ang kanyang tinig ay parang musika sa tenga.", Answer: "Simili"},
    {Text: "Ang kanyang mga mata ay dagat ng kalungkutan.", Answer: "Metapora"},
    {Text: "Siya ay parang ulap na lumilipad sa langit.", Answer: "Simili"},
    {Text: "Ang kanyang ngiti ay araw sa aking buhay.", Answer: "Metapora"},
    {Text: "Ang kanyang mga hakbang ay parang hangin.", Answer: "Simili"},
    {Text: "Ang puso niya ay parang yelo.", Answer: "Simili"},
    {Text: "Siya ay isang bituin sa gabi ng buhay.", Answer: "Metapora"},
    {Text: "Ang kanyang boses ay parang kampana.", Answer: "Simili"}
];

// ==== Shuffle function ====
function shuffle(array){
    for(let i = array.length-1;i>0;i--){
        let j = Math.floor(Math.random()*(i+1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}
shuffle(pamilangQuestions);
shuffle(tayutayQuestions);

// ==== Globals ====
let section = 1; // 1=Pamilang, 2=Tayutay
let currentIndex = 0;
let scorePamilang = 0;
let scoreTayutay = 0;
let wrongPamilang = 0;
let wrongTayutay = 0;

// ==== HTML References ====
const quizDiv = document.getElementById("quiz-section");
const lblResult = document.getElementById("lblResult");
const btnCheck = document.getElementById("btnCheck");
const btnNext = document.getElementById("btnNext");

// ==== Show Question ====
function showQuestion(){
    lblResult.textContent = "";
    quizDiv.innerHTML = "";
    let q;
    if(section===1){
        if(currentIndex>=pamilangQuestions.length){ 
            section=2; currentIndex=0; showQuestion(); return; 
        }
        q = pamilangQuestions[currentIndex];
        quizDiv.innerHTML = `<div class="question">${currentIndex+1}. ${q.Text}</div>
        <input type="text" id="txtAnswer" placeholder="Isulat ang salitang pamilang" /> 
        <select id="cmbType">
            <option value="">--Piliin ang Uri--</option>
            <option value="Kardinal">Kardinal</option>
            <option value="Ordinal">Ordinal</option>
            <option value="Pamahagi">Pamahagi</option>
            <option value="Palansak">Palansak</option>
        </select>`;
    } else {
        if(currentIndex>=tayutayQuestions.length){ showFinalResult(); return; }
        q = tayutayQuestions[currentIndex];
        quizDiv.innerHTML = `<div class="question">${currentIndex+1}. ${q.Text}</div>
        <select id="cmbType">
            <option value="">--Piliin ang Uri--</option>
            <option value="Simili">Simili</option>
            <option value="Metapora">Metapora</option>
        </select>`;
    }
}

// ==== Check Answer ====
function checkAnswer(){
    let q, userWord, userType;
    if(section===1){
        q = pamilangQuestions[currentIndex];
        userWord = document.getElementById("txtAnswer").value.trim();
        userType = document.getElementById("cmbType").value;
        if(userWord.toLowerCase()===q.Word.toLowerCase() && userType===q.Type){
            lblResult.style.color = "green"; lblResult.textContent="Tama!";
            scorePamilang++;
        } else {
            lblResult.style.color = "red"; 
            lblResult.textContent=`Mali! Tamang sagot: '${q.Word}' (${q.Type})`;
            wrongPamilang++;
        }
    } else {
        q = tayutayQuestions[currentIndex];
        userType = document.getElementById("cmbType").value;
        if(userType===q.Answer){
            lblResult.style.color="green"; lblResult.textContent="Tama!";
            scoreTayutay++;
        } else {
            lblResult.style.color="red"; lblResult.textContent=`Mali! Tamang sagot: ${q.Answer}`;
            wrongTayutay++;
        }
    }
}

// ==== Next Question ====
btnNext.addEventListener("click", ()=>{
    currentIndex++;
    showQuestion();
});
btnCheck.addEventListener("click", checkAnswer);

// ==== Final Result ====
function showFinalResult(){
    let totalQ = pamilangQuestions.length + tayutayQuestions.length;
    let totalScore = scorePamilang + scoreTayutay;
    let perc = Math.round((totalScore/totalQ)*100);
    let remark = (perc>=75)?"PASADO":"BAGSAK";
    quizDiv.innerHTML = `<h3>Resulta ng Pagsusulit</h3>
    <p>Pamilang - Tama: ${scorePamilang}, Mali: ${wrongPamilang}</p>
    <p>Tayutay - Tama: ${scoreTayutay}, Mali: ${wrongTayutay}</p>
    <p>Kabuuang Score: ${totalScore} / ${totalQ} (${perc}%)</p>
    <p><strong>Remark: ${remark}</strong></p>`;
    btnCheck.disabled = true;
    btnNext.disabled = true;
}

// ==== Start Quiz ====
showQuestion();
</script>
</body>
</html>

